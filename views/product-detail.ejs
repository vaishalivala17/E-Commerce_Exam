<div class="container">
    <div class="product-detail">
        <div class="product-image">
            <img src="<%= product.image %>" alt="<%= product.name %>">
        </div>
        
        <div class="product-info">
            <h1><%= product.name %></h1>
            <p class="category">Category: <%= product.category %></p>
            <p class="price">$<%= product.price.toFixed(2) %></p>
            
            <p class="stock <%= product.stock > 0 ? 'in-stock' : 'out-of-stock' %>">
                <%= product.stock > 0 ? 'In Stock (' + product.stock + ' available)' : 'Out of Stock' %>
            </p>
            
            <div class="description">
                <h3>Description</h3>
                <p><%= product.description %></p>
            </div>
            
            <% if (product.stock > 0) { %>
                <div class="add-to-cart-section">
                    <div class="quantity-selector">
                        <label for="qty">Quantity:</label>
                        <input type="number" id="qty" name="qty" value="1" min="1" max="<%= product.stock %>">
                    </div>
                    
                    <% if (typeof user !== 'undefined' && user) { %>
                        <button class="btn btn-primary btn-lg add-to-cart-btn" data-product-id="<%= product._id %>">
                            Add to Cart
                        </button>
                    <% } else { %>
                        <a href="/auth/login" class="btn btn-secondary btn-lg">Login to Buy</a>
                    <% } %>
                </div>
            <% } %>
            
            <a href="/products" class="btn btn-secondary">Back to Products</a>
        </div>
    </div>
</div>
